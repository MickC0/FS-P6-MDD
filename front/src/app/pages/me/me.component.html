<div class="me-page">
  <!-- Profils -->
  <h2>Profil utilisateur</h2>

  <div class="profile-form">
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Nom d’utilisateur</mat-label>
      <input matInput [(ngModel)]="profile.username" />
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Adresse e-mail</mat-label>
      <input matInput type="email" [(ngModel)]="profile.email" />
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Mot de passe</mat-label>
      <input
        matInput
        [type]="hide ? 'password' : 'text'"
        [(ngModel)]="profile.password" />
      <button
        mat-icon-button
        matSuffix
        (click)="hide = !hide"
        [attr.aria-label]="hide ? 'Afficher mot de passe' : 'Cacher mot de passe'">
        <mat-icon>{{ hide ? 'visibility_off' : 'visibility' }}</mat-icon>
      </button>
    </mat-form-field>

    <button mat-flat-button color="primary" class="save-btn" (click)="onSave()">
      Sauvegarder
    </button>
  </div>

  <mat-divider class="section-divider"></mat-divider>

  <!-- Abonnements -->
  <div class="subscriptions">
    <h3>Abonnements</h3>
    <div class="cards-grid">
      <mat-card class="subscription-card" *ngFor="let sub of subscriptions; let i = index">
        <mat-card-header>
          <mat-card-title>{{ sub.title }}</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          {{ sub.description }}
        </mat-card-content>
        <mat-card-actions>
          <button
            mat-flat-button
            color="primary"
            class="unsubscribe-btn"
            (click)="unsubscribe(i)">
            Se désabonner
          </button>
        </mat-card-actions>
      </mat-card>
    </div>
  </div>
</div>
